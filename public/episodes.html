<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìÖ Episode Tracker ‚Äî Bridgerton Watch Party</title>
    <link rel="icon" type="image/png" href="/images/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400;1,600&family=Great+Vibes&family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400;1,700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <style>
        .ep-page {
            min-height: 100vh;
            position: relative;
            z-index: 1;
            padding: 80px 20px 60px;
            background: radial-gradient(ellipse at 30% 20%, rgba(196, 180, 212, 0.12) 0%, transparent 50%),
                radial-gradient(ellipse at 70% 80%, rgba(232, 196, 200, 0.08) 0%, transparent 50%),
                linear-gradient(180deg, var(--midnight) 0%, var(--deep-navy) 100%);
        }

        .ep-container {
            max-width: 700px;
            margin: 0 auto;
        }

        .ep-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .ep-header .icon {
            font-size: 3rem;
            margin-bottom: 12px;
        }

        .ep-header h1 {
            font-family: var(--font-script);
            font-size: clamp(2.2rem, 5vw, 3.2rem);
            font-weight: 400;
            background: linear-gradient(135deg, var(--pale-gold), var(--champagne-gold), var(--bright-gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
        }

        .ep-header p {
            font-family: var(--font-body);
            font-style: italic;
            color: var(--blush-pink);
            font-size: 1rem;
        }

        .progress-section {
            background: rgba(26, 31, 58, 0.65);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(201, 168, 76, 0.25);
            border-radius: 24px;
            padding: 28px 32px;
            margin-bottom: 24px;
            text-align: center;
        }

        .progress-text {
            font-family: var(--font-heading);
            font-size: 1.1rem;
            color: var(--cream);
            margin-bottom: 14px;
        }

        .progress-bar-lg {
            height: 12px;
            background: rgba(201, 168, 76, 0.12);
            border-radius: 6px;
            overflow: hidden;
        }

        .progress-fill-lg {
            height: 100%;
            background: linear-gradient(90deg, var(--champagne-gold), var(--bright-gold));
            border-radius: 6px;
            transition: width 0.6s ease;
        }

        .progress-pct {
            font-family: var(--font-body);
            font-size: 0.9rem;
            color: var(--champagne-gold);
            margin-top: 10px;
        }

        .part-title {
            font-family: var(--font-heading);
            font-size: 1.2rem;
            color: var(--champagne-gold);
            text-transform: uppercase;
            letter-spacing: 0.15em;
            margin: 28px 0 16px;
            padding-left: 4px;
        }

        .ep-card {
            display: flex;
            align-items: center;
            gap: 16px;
            background: rgba(26, 31, 58, 0.5);
            border: 1px solid rgba(201, 168, 76, 0.15);
            border-radius: 18px;
            padding: 20px 24px;
            margin-bottom: 12px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .ep-card:hover {
            border-color: rgba(201, 168, 76, 0.35);
            background: rgba(201, 168, 76, 0.05);
        }

        .ep-card.watched {
            border-color: rgba(102, 187, 106, 0.3);
            background: rgba(102, 187, 106, 0.05);
        }

        .ep-checkbox {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            border: 2px solid rgba(201, 168, 76, 0.35);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all 0.3s ease;
            font-size: 14px;
            color: transparent;
        }

        .ep-card.watched .ep-checkbox {
            background: rgba(102, 187, 106, 0.2);
            border-color: #66bb6a;
            color: #66bb6a;
        }

        .ep-info {
            flex: 1;
        }

        .ep-number {
            font-family: var(--font-heading);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.12em;
            color: var(--champagne-gold);
            margin-bottom: 4px;
        }

        .ep-title {
            font-family: var(--font-heading);
            font-size: 1.1rem;
            color: var(--cream);
            margin-bottom: 4px;
        }

        .ep-desc {
            font-family: var(--font-body);
            font-size: 0.9rem;
            color: rgba(250, 246, 239, 0.5);
            line-height: 1.5;
            font-style: italic;
        }
    </style>
</head>

<body>
    <canvas id="particles-canvas"></canvas>
    <nav class="nav-bar">
        <a href="/">‚ú¶ Home</a><span class="nav-separator">|</span>
        <a href="/admin.html">üîë Royal Decrees</a><span class="nav-separator">|</span>
        <a href="/chamber.html">üëë Chamber</a><span class="nav-separator">|</span>
        <a href="/translator.html">ü™∂ Translator</a><span class="nav-separator">|</span>
        <a href="/polls.html">üó≥Ô∏è Polls</a><span class="nav-separator">|</span>
        <a href="/teaspill.html">ü´ñ Tea</a><span class="nav-separator">|</span>
        <a href="/quiz.html">üé≠ Quiz</a><span class="nav-separator">|</span>
        <a href="/predictions.html">üèÜ Predictions</a><span class="nav-separator">|</span>
        <a href="/episodes.html" class="active">üìÖ Episodes</a>
    </nav>

    <div class="ep-page">
        <div class="ep-container">
            <div class="ep-header">
                <div class="icon">üìÖ</div>
                <h1>Episode Tracker</h1>
                <p>Track your journey through the season ‚Äî no spoilers beyond your progress</p>
            </div>

            <div class="progress-section">
                <div class="progress-text" id="progress-text">0 of 8 episodes watched</div>
                <div class="progress-bar-lg">
                    <div class="progress-fill-lg" id="progress-fill"></div>
                </div>
                <div class="progress-pct" id="progress-pct">0% complete</div>
            </div>

            <div id="episodes-list"></div>
        </div>
    </div>

    <script>
        // Particles
        const canvas = document.getElementById('particles-canvas'), ctx = canvas.getContext('2d'); let particles = [];
        function resizeCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight }
        class Particle { constructor() { this.reset() } reset() { this.x = Math.random() * canvas.width; this.y = Math.random() * canvas.height; this.size = Math.random() * 2 + .5; this.speedX = (Math.random() - .5) * .2; this.speedY = -(Math.random() * .3 + .05); this.opacity = Math.random() * .35 + .05; this.fadeDir = Math.random() > .5 ? .002 : -.002; this.color = ['rgba(201,168,76,', 'rgba(196,180,212,', 'rgba(232,196,200,'][Math.floor(Math.random() * 3)] } update() { this.x += this.speedX; this.y += this.speedY; this.opacity += this.fadeDir; if (this.opacity <= .03 || this.opacity >= .4) this.fadeDir *= -1; if (this.y < -10) { this.reset(); this.y = canvas.height + 10 } } draw() { ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fillStyle = this.color + this.opacity + ')'; ctx.fill() } }
        resizeCanvas(); for (let i = 0; i < 25; i++)particles.push(new Particle());
        (function a() { ctx.clearRect(0, 0, canvas.width, canvas.height); particles.forEach(p => { p.update(); p.draw() }); requestAnimationFrame(a) })();
        window.addEventListener('resize', resizeCanvas);

        const episodes = [
            { part: 1, ep: 1, title: "An Offer From a Stranger", desc: "The new social season opens with a grand ball, where Benedict Bridgerton is captivated by a mysterious woman in a silver mask." },
            { part: 1, ep: 2, title: "The Silver Lady", desc: "Benedict becomes obsessed with finding the woman from the masquerade. Meanwhile, the Featheringtons face a new scandal." },
            { part: 1, ep: 3, title: "Unmasked", desc: "Identities are revealed and secrets spill as the ton's fascination with the mystery woman grows ever more dangerous." },
            { part: 1, ep: 4, title: "A Gilded Cage", desc: "Sophie Beckett's hidden past threatens everything as Benedict draws closer to the truth of who she really is." },
            { part: 2, ep: 5, title: "A Gentleman's Proposal", desc: "Benedict makes a bold declaration that shocks the ton. But will love be enough to bridge two very different worlds?" },
            { part: 2, ep: 6, title: "The Scandal Sheet", desc: "Lady Whistledown's most explosive column yet sends shockwaves through Mayfair. No one is safe from her quill." },
            { part: 2, ep: 7, title: "Hearts Laid Bare", desc: "With the season's end approaching, alliances shatter and confessions are made under moonlight." },
            { part: 2, ep: 8, title: "Ever After", desc: "The grand finale ‚Äî where love conquers all, or breaks apart. Prepare your tissues and your wine." },
        ];

        let watched = JSON.parse(localStorage.getItem('bridgerton-watched') || '[]');

        function render() {
            const list = document.getElementById('episodes-list');
            let html = '';
            let currentPart = 0;

            episodes.forEach((ep, i) => {
                if (ep.part !== currentPart) {
                    currentPart = ep.part;
                    html += `<div class="part-title">Part ${currentPart} ${currentPart === 1 ? '‚Äî Released' : '‚Äî Coming Feb 26'}</div>`;
                }
                const isWatched = watched.includes(i);
                html += `<div class="ep-card ${isWatched ? 'watched' : ''}" onclick="toggleEp(${i})">
                    <div class="ep-checkbox">${isWatched ? '‚úì' : ''}</div>
                    <div class="ep-info">
                        <div class="ep-number">Episode ${ep.ep}</div>
                        <div class="ep-title">${ep.title}</div>
                        <div class="ep-desc">${ep.desc}</div>
                    </div>
                </div>`;
            });

            list.innerHTML = html;
            updateProgress();
        }

        function toggleEp(index) {
            if (watched.includes(index)) {
                watched = watched.filter(i => i !== index);
            } else {
                watched.push(index);
            }
            localStorage.setItem('bridgerton-watched', JSON.stringify(watched));
            render();
        }

        function updateProgress() {
            const total = episodes.length;
            const done = watched.length;
            const pct = Math.round((done / total) * 100);
            document.getElementById('progress-text').textContent = `${done} of ${total} episodes watched`;
            document.getElementById('progress-fill').style.width = pct + '%';
            document.getElementById('progress-pct').textContent = pct === 100 ? 'üéâ Season complete! You are caught up!' : `${pct}% complete`;
        }

        render();
    </script>
</body>

</html>